@(user: User, event: Event)

@main("Answer event: " + event.title) {
	<h1>@event.title</h1>
	<blockquote>
		<p>
			@event.description
			@if(event.hasRegisteredCreator) {
				@if(event.hasDescription) {<br />}
				<small>Created by @event.userCreator.getDisplay</small>
			}
		</p>
	</blockquote>
	
	@helper.form(action = routes.AnswerEvent.answer(event.id)) {
		<table class="table table-bordered table-hover table-condensed poll-results">
			<thead>
			<tr>
				<th>Participants</th>
				@for(date <- event.dates) {
					<th class="result">@date.date</th>
				}
			</tr>
			</thead>
			<tbody>
				@if(user == null) {
					<tr class="info">
						<td class="username">
							<input name="username" placeholder="Your name"/>
						</td>
						@for(date <- event.dates) {
							<td class="result answer">
								<input type="checkbox" name="date_@date.id" value="@date.id" />
							</td>
						}
					</tr>
				}
			</tbody>
		</table>
	}
	
	<script type="text/javascript">
        $('.answer').live('click', function(e) {
        	$(this).find("input:checkbox").each(function(){ this.checked = !this.checked; });
        	return false;
        })
        $(".answer :checkbox").click(function(e) {
   			e.stopPropagation();
   			var val = $(this).val();
  		});
        $('td.username').live('click', function(e) {
        	$(this).children("input").first().focus();
        })
    </script>
}
